{"version":3,"file":"dedupe-mixin.js","sources":["development/dedupe-mixin.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dedupeMixin = void 0;\nconst appliedClassMixins = new WeakMap();\n/** Vefify if the Mixin was previously applyed\n * @private\n * @param {function} mixin      Mixin being applyed\n * @param {object} superClass   Class receiving the new mixin\n * @returns {boolean}\n */\nfunction wasMixinPreviouslyApplied(mixin, superClass) {\n    let klass = superClass;\n    while (klass) {\n        if (appliedClassMixins.get(klass) === mixin) {\n            return true;\n        }\n        klass = Object.getPrototypeOf(klass);\n    }\n    return false;\n}\n/** Apply each mixin in the chain to make sure they are not applied more than once to the final class.\n * @export\n * @param {function} mixin      Mixin to be applyed\n * @returns {object}            Mixed class with mixin applied\n */\nfunction dedupeMixin(mixin) {\n    return (superClass) => {\n        if (wasMixinPreviouslyApplied(mixin, superClass)) {\n            return superClass;\n        }\n        const mixedClass = mixin(superClass);\n        appliedClassMixins.set(mixedClass, mixin);\n        return mixedClass;\n    };\n}\nexports.dedupeMixin = dedupeMixin;\n"],"names":["Object","defineProperty","exports","value","dedupeMixin","appliedClassMixins","WeakMap","mixin","superClass","klass","get","getPrototypeOf","wasMixinPreviouslyApplied","mixedClass","set"],"mappings":"AACAA,OAAOC,eAAeC,QAAS,KAAc,CAAEC,OAAO,IACtDD,QAAQE,iBAAc,EACtB,MAAMC,EAAqB,IAAIC,QAgC/BJ,QAAQE,YAVR,SAAqBG,GACjB,OAAQC,IACJ,GAjBR,SAAmCD,EAAOC,GACtC,IAAIC,EAAQD,EACZ,KAAOC,GAAO,CACV,GAAIJ,EAAmBK,IAAID,KAAWF,EAClC,OAAO,EAEXE,EAAQT,OAAOW,eAAeF,GAElC,OAAO,EASCG,CAA0BL,EAAOC,GACjC,OAAOA,EAEX,MAAMK,EAAaN,EAAMC,GAEzB,OADAH,EAAmBS,IAAID,EAAYN,GAC5BM"}